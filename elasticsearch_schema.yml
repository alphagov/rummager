synonyms: &synonyms [
  # Equivalent synonyms

  "abroad, overseas",
  "adviser, advisor",
  "apply, claim",
  "attorney, deputy",

  # Temporarily disabling this to solve the problem where Romanian bank holidays
  # (in Inside Gov) are being weighted more favourably than UK bank holidays.
  # TODO: revisit this after we fix the relative weightings on indices

  # "bank holiday, bank holidays, public holiday, public holidays",

  "bankrupt, bankruptcy",
  "businesslink, business link",
  "car, vehicle",
  "car tax bands, vehicle tax rates",
  "complain, complaint",
  "death, bereavement",
  "emissions, pollution",
  "fees, costs, prices",
  "hazardous substances, dangerous substances",
  "holiday pay, holiday entitlement",
  "licence, license",
  "motorbike, motorcycle",
  "pension forecast, pension statement",
  "practical driving test, practical test",
  "practice, practise",
  "reduction, discount",
  "renew, expired, out of date",
  "self-employed, self employed, self-employment, self employment, sole trader, starting up a business",
  "sickness, sick, illness, ill",
  "social fund, budgeting loans, crisis loans",
  "streetlight, street light",
  "tariff classification, trade tariff",
  "tariff codes, commodity codes",
  "trademark, trade mark",
  "deregistration => de-registration",
  "will, wills",
  "work experience, internship, interns",

  "one, 1",
  "two, 2",
  "three, 3",
  "four, 4",
  "five, 5",
  "six, 6",
  "seven, 7",
  "eight, 8",
  "nine, 9",
  "ten, 10",

  # Acronyms

  "crb, criminal records bureau, dbs, disclosure and barring service",
  "cwp, cold weather payment",
  "dada, dance and drama awards",
  "dda, disability discrimination act",
  "dfid, department for international development",
  "dh, department of health",
  "dhp, discretionary housing payment",
  "dla, disability living allowance",
  "eccn, export control classification number",
  "eco, energy company obligation",
  "eis, enterprise investment scheme",
  "esa, employment and support allowance",
  "fco, foreign commonwealth office",
  "fcoc, future character of conflict",
  "foi, freedom of information",
#  "jsa, jobseekerâ€™s allowance",
  "lha, local housing allowance",
  "lpa, lasting power of attorney",
  "nea, new enterprise allowance",
  "ospp, ordinary statutory paternity pay",
  "pcdl, professional and career development loan",
  "pilon, payment in lieu of notice, pay in lieu of notice",
  "rti, real time information",
  "sap, statutory adoption pay",
  "slc, student loans company",
  "spp, statutory paternity pay",
  "ukti, uk trade and investment",
  "utr, unique taxpayer reference",

  # Various bits of unofficial and run-together terminology

  "bedroom tax => extra bedroom",
  "bluebadge => blue badge",
  "buyerbeware => buying a used car",
  "carersallowance => carer's allowance",
  "checkdrivercpc => check driver cpc",
  "coldweather => cold weather",
  "coldweatherpayment, coldweatherpayments => cold weather payment",
  "crisisloan => crisis loan",
  "death duty => inheritance tax",
  "digi => digital",
  "digicard => digital tachograph",
  "direct gov => directgov",
  "doh => department of health",
  "dole => jobseeker's allowance",
  "drivercpc => driver cpc",
  "driverhealth => driving health",
  "drivingtest => driving test",
  "dvlalocal => dvla local",
  "dvlc => dvla",
  "euets => eu ets",
  "firesafetyguides => fire safety guides",
  "governmentgateway => government gateway",
  "greenbook => green book",
  "greendeal => green deal",
  "hep b => hepatitis b",
  "incomesupport => income support",
  "independent safeguarding authority => disclosure and barring service",
  "inland revenue => hmrc, hm revenue customs",
  "jcponline => jobcentre plus",
  "jobgrant => job grant",
  "jobseekersallowance => jobseeker's allowance",
  "journeyplanner => journey planner",
  "jsaol, jsaonline, jsa online => jobseeker's allowance",
  "makeasorn => make a sorn",
  "motoringforms => motoring forms",
  "ni => national insurance",
  "nin, nino => national insurance number",
  "nvq => further education courses",
  "old age pension => state pension",
  "payacourtfine => pay a court fine",
  "paycourtfine => pay a court fine",
  "pensioncredit => pension credit",
  "pensionforecast => pension forecast",
  "photorenewal => photo renewal",
  "reg => registration",
  "renewal70 => renew 70",
  "renewalat70 => renew 70",
  "renewat70 => renew 70",
  "renewmyphoto => renew photo",
  "road tax => road tax, car tax",
  "s2p => state second pension",
  "sanctionsconlist, sanctionsconlist.csv, sanctionsconlist.txt, sanctionslist => financial sanctions consolidated list",
  "sf => student finance",
  "sfe => student finance england",
  "sfform => student finance form",
  "sfforms => student finance forms",
  "sickpay => sick pay",
  "simplepayment => simple payment",
  "socialfund => social fund",
  "spol => state pension online",
  "ss form, ssform => student finance form",
  "ss forms, ssforms => student finance forms",
  "statepension => state pension",
  "statepensiononline => state pension",
  "stayinsured => uninsured vehicles",
  "studentfinance => student finance",
  "surestart => sure start",
  "tacho => tachograph",
  "uj, ujm => universal jobmatch",
  "unemployment benefit => jobseeker's allowance",
  "unique tax => unique taxpayer",
  "universal jobsearch => universal jobmatch",
  "universaljobmatch => universal jobmatch",
  "universaljobsearch => universal jobmatch",
  "unsorn, un sorn => sorn",
  "vehiclereg => vehicle registration",
  "warmfront => warm front",
  "warmhome => warm home",
  "winterfuel => winter fuel",
  "winterfuelallowance => winter fuel payment",
  "winterfuelpayment => winter fuel payment",
  "workplacepensions => workplace pensions",
  "yourmotcheck => mot check",
  "xmas => christmas",

  # Additional terms

  "apostille => apostille, document legalised",
  "book driving test => book driving test, book your practical driving test",
  "bursaries, bursary => bursaries, bursary, extra, university",
  "business grant, business grants => business grants, business finance",
  "business loan, business loans => business loans, business finance",
  "business support => business support, business finance",
  "council tax => council tax, your council tax",
  "copyright => copyright, intellectual property",
  "curriculum vitae => cv, curriculum vitae",
  "drivers licence => drivers licence, driving licence",
  "driving test => driving test, practical driving test, driving or riding test",
  "dss => dwp",
  "easter => easter, paid early",
  "employer direct => employer direct, universal jobmatch",
  "fired => fired, dismissed, dismissal",
  "firing => firing, dismiss, dismissing, dismissal",
  "gateway => gateway, government gateway",
  "government getaway => government gateway",

  # Intended to bring the main PHE and HMT Green Book landing pages into the top 3, above all their chapters
  #   </government/organisations/public-health-england/series/immunisation-against-infectious-disease-the-green-book>
  #   </government/publications/the-green-book-appraisal-and-evaluation-in-central-governent>
  # TODO: review the need for this once we have other ways to manipulate result ordering
  "green book => green book, immunisation against infectious disease, appraisal evaluation central government",

  "green deal => green deal, green deal energy saving, energy grants, heating",
  "heating => heating, energy grants, energy saving, cold, warm, winter",
  "holiday payment, holiday payments => holiday payment, holiday payments, paid early",
  "how much => how much, fees, rates",
  "intestacy => intestacy, wills, inherits",
  "intestate => intestate, wills, inherits",
  "ir35 => ir35, employment status",
  "job match => job match, jobmatch",
  "job share, job sharing => job share, job sharing, flexible working",
  "legalisation, legalise => legalisation, legalise, document legalised",
  "maintenance grant => maintenance grant, student finance",
  "new enterprise allowance => new enterprise allowance, start work, business idea",
  "next step, nextstep => next step, national careers service",
  "opening times => opening times, opening hours",

  # A tweak to the existing passports synonym, trying to raise certain content with the benefit of the improved phrase matching.
  # TODO: review the need for this once we have other ways to manipulate result ordering
  "passport, passports => passport, replace your adult passport, child passport, first passport",

  "rapid claim => rapid claim, rapid reclaim, jobseeker's allowance",
  "rapid reclaim => rapid reclaim, jobseeker's allowance",
  "redundancy => redundancy, redundant, redundancy pay",
  "ref number => ref number, reference number",
  "refuse collection => refuse collection, rubbish collection",
  "repossession => repossession, eviction",
  "reversing => reversing, 159",  # prioritise Highway Code (rules 159 to 203)
  "sanctions => sanctions, jobseeker's allowance sanctions",
  "school, schools => school, closures",
  "self assessment => self assessment, self assessment tax return, register for self assessment",
  "self certification, self certificate, self cert => self-certification, sick pay",
  "sign off, signing off, starting work => sign off, signing off, starting work, from benefits to work, return to work, adviser",
  "snow, snow code => snow, ice, grit, winter, weather, closures",
  "social security => social security, benefits",
  "starting a company => starting a company, starting a business",
  "student finance => student finance, student finance calculator, student loans, student grants, apply or support, log in",
  "support an application => support an application, how to apply for student finance",
  "tax payer => tax payer, taxpayer",
  "trade => trade, trade tariff, ukti",
  "ukti => ukti, uk trade and investment, help for exporters, starting to export, uk welcomes",
  "under-occupancy, under occupancy, underoccupancy  => under-occupancy, under occupancy, underoccupancy, bedroom, housing benefit",
  "utr, unique taxpayer reference => utr, unique taxpayer reference, register for self assessment",
  "wales => wales, cymru",
  "weather, bad weather, winter weather => weather, cold weather, severe weather, winter weather, energy grants, heating",
  "welsh => welsh, cymraeg, gymraeg",
  "winter payment, winter payments => winter fuel payment, cold weather, warm home, energy saving, energy grants, heating",
  "work trial => work trial, work experience, recruiters",

  # Forms and leaflets

  "adif => birth or adoption certificate form, student finance forms",
  "br1, br 1 => br1, state pension claim",
  "br19, br 19 => br19, state pension statement",
  "cis305, cis 305, cis340, cis 340 => construction industry scheme",
  "cwf1 => register for self assessment",
  "d184 => d184, divorce",
  "d46p => d46p, renew 70",
  "d786b => d777b, digital tachograph driver card",
  "d798 => d798, renewal reminder",
  "e11, e111, ehi card => ehic",
  "eesa => employment and support allowance",
  "esa50 => esa50, esa 50",
  "ex321 => make a court claim for money, enforce a judgment",
  "ex50 => court fees",
  "gv 262 => gv262, drivers hours",
  "inf1d => driving licence application",
  "inf2d => driving licence lorry or bus",
  "inf4d => inf4d, driving licence medical condition",
  "inf5d => driving licence renewal",
  "inf38 => non-gb licence",
  "ins160 => vehicle registration certificate",
  "ipcbr1 => ipcbr1, ipc br1",
  "lso1 => ls01",
  "mi12 => mi12, mortgage interest",
  "ni17a => maternity benefits",
  "p38s => student holiday job",
  "pa3, pa4 => probate",
  "pd2 => passports change your name",
  "pff => pff2",
  "pr2 => pr2, student finance forms",
  "pw1 => pw1, permitted work",
  "r27 => after someone dies",
  "sc1 => sc1, incapacity benefit",
  "sc2 => sc2, statutory sick pay",
  "v100 => vehicle registration",
  "v149 => v149, vehicle tax rates",
  "v188 => disability exemption",
  "v5 => v5, v5c",
  "v888 => v888, vehicle information",
  "v890 => v890, sorn",
  "vat1, vat 1, vat2, vat 2, vat50, vat 50, vat51, vat 51, vat1a, vat 1a, vat1b, vat 1b => vat registration",
  "vat 7 => vat7",
  "vc5 => vc5, v5c",

  # Common misspellings (in lieu of a "did you mean" filter)

  "addres => address",
  "adress => address",
  "alljobs => all jobs",
  "allowence => allowance",
  "alowance => allowance",
  "anullment => annulment",
  "aplication => application",
  "apostile => apostille",
  "applicaton => application",
  "apprentaship => apprenticeship",
  "apprentaships => apprenticeships",
  "apprentership => apprenticeship",
  "apprenterships => apprenticeships",
  "apprenticship => apprenticeship",
  "apprenticships => apprenticeships",
  "apprentiship => apprenticeship",
  "apprentiships => apprenticeships",
  "assesment => assessment",
  "atten => attendance",
  "attendace => attendance",
  "attendence => attendance",
  "attorny => attorney",
  "baliff => bailiff",
  "baliffs => bailiffs",
  "bancruptcy => bankruptcy",
  "bankcruptcy => bankruptcy",
  "bankholiday, bankholidays => bank holidays",
  "bankrupcy => bankruptcy",
  "bankrupsy => bankruptcy",
  "bankruptsy => bankruptcy",
  "bankrupty => bankruptcy",
  "bene => benefit",
  "benfit => benefit",
  "benfits => benefits",
  "benifit => benefit",
  "benifits => benefits",
  "bereavment => bereavement",
  "berevement => bereavement",
  "berevment => bereavement",
  "breavement => bereavement",
  "budgetting => budgeting",
  "buget => budget",
  "bugeting => budgeting",
  "buisness => business",
  "bursery => bursary",
  "businessplan => business plan",
  "buspass => bus pass",
  "calculater => calculator",
  "cartax => car tax",
  "center => centre",
  "chang => change",
  "cheif => chief",
  "childrens => children",
  "childs => child",
  "comunity => community",
  "contactor => contractor",
  "cossh => coshh",
  "crisi => crisis",
  "crissis => crisis",
  "c v => cv",
  "diability => disability",
  "disabilty => disability",
  "disk => disk, disc",
  "dismisal => dismissal",
  "divorse => divorce",
  "drivi => driving",
  "drivin => driving",
  "eh1c => ehic",
  "fianance => finance",
  "fiance => finance",
  "finace => finance",
  "forcast => forecast",
  "gov => government",
  "goverment => government",
  "grafitti => graffiti",
  "harrasment => harassment",
  "harrassment => harassment",
  "houseing => housing",
  "incapasity => incapacity",
  "inco => income",
  "incom => income",
  "insuranc => insurance",
  "insurence => insurance",
  "interveiw => interview",
  "job center => jobcentre",
  "job centre => jobcentre",
  "job seekers => jobseeker's",
  "job serch => job search",
  "jobcenter => jobcentre",
  "jobcenterplus => jobcentre plus",
  "jobcentreplus => jobcentre plus",
  "jobmach => jobmatch",
  "jobseach => job search",
  "jobseakers => jobseekers",
  "jobsearch => job search",
  "jobserch => job search",
  "jobsmatch => jobmatch",
  "jpbs => jpbs, jobs",
  "knifes => knives",
  "licience => licence",
  "liscence => licence",
  "maintance => maintenance",
  "maternaty => maternity",
  "milage => mileage",
  "mimimum => minimum",
  "minimun => minimum",
  "minium => minimum",
  "minumum => minimum",
  "morgage => mortgage",
  "mortage => mortgage",
  "motobility => motability",
  "motorbility => motability",
  "nationa => national",
  "numbe => number",
  "offical => official",
  "pasport => passport",
  "passpor => passport",
  "pention => pension",
  "pentions => pensions",
  "perscriptions => prescriptions",
  "pot hole => pothole",
  "pra => practical",
  "pract => practical",
  "pratical => practical",
  "pregancy => pregnancy",
  "provisonal => provisional",
  "questionaire => questionnaire",
  "re claim => reclaim",
  "redudancy => redundancy",
  "redun => redundancy",
  "redunancy => redundancy",
  "redundacy => redundancy",
  "redundancey => redundancy",
  "redundnacy => redundancy",
  "redundency => redundancy",
  "referance => reference",
  "roadtax => car tax",
  "saftey => safety",
  "school closers => school closures",
  "scorn => sorn",
  "seach => search",
  "selfassessment => self assessment",
  "selfemployed => self employed",
  "selfemployment => self employment",
  "seperation => separation",
  "serach => search",
  "soletrader => sole trader",
  "statuatory => statutory",
  "stu => student",
  "stude => student",
  "studen => student",
  "suport => support",
  "suppor => support",
  "surport => support",
  "tacograph => tachograph",
  "tarif => tariff",
  "tarifs => tariffs",
  "tarrif => tariff",
  "tarrifs => tariffs",
  "tarriff => tariff",
  "tarriffs => tariffs",
  "taxdisc => tax disc",
  "taxdisk => tax disc",
  "tax disk => tax disc",
  "theroy => theory",
  "thoery => theory",
  "univeral => universal",
  "wearhouse => warehouse",
  "wether => whether, weather",
  "wharehouse => warehouse",
  "wheather => whether, weather",

  # Temporary fix for payroll terms
  "480 => 480, payroll",
  "ca38 => ca38, payroll",
  "cwg2 => cwg2, payroll",
  "dispensation => dispensation, payroll",
  "e11 => e11, payroll",
  "mileage => mileage, payroll",
  "paye => paye, payroll",
  "psa => psa, payroll",
  "p11 => p11, payroll",
  "p11d => p11d, paye, payroll",
  "p11dx => p11dx, payroll",
  "p14 => p14, payroll",
  "p32 => p32, payroll",
  "p35 => p35, payroll",
  "p38 => p38, payroll",
  "p45 => p45, paye, payroll",
  "p46 => p46, paye, payroll",
  "p60 => p60, paye, payroll",
  "salary sacrifice => salary sacrifice, payroll",
#  "smp => smp, payroll",
#  "ssp => ssp, payroll",
  "ssp1 => ssp1, payroll",
  "tax calculator => tax calculator, payroll",
  "tax refund => tax refund, payroll",

  # Temporary fix for career-specific job searches
  # TODO: Remove this once we have support for alternative keywords in Panopticon
  "admin => admin, jobs",
  "catering => catering, jobs",
  "chef => chef, jobs",
  "cleaner => cleaner, jobs",
  "cleaners => cleaners, jobs",
  "cleaning => cleaning, jobs",
  "joiner => joiner, jobs",
  "labourer => labourer, jobs",
  "labouring => labouring, jobs",
  "packing => packing, jobs",
  "plumber => plumber, jobs",
  "plumbing => plumbing, jobs",
  "receptionist => receptionist, jobs",
  "retail => retail, jobs",
  "royal mail => royal mail, jobs",
  "sales => sales, jobs",
  "security => security, jobs",
  "vacancies => vacancies, jobs",
  "waitress => waitress, jobs",
  "warehouse => warehouse, jobs",
  "warehousing => warehousing, jobs"
]


stems: &stems [
  "community => community",
  "directive => directive",
  "directives => directive",
  "equalities => equality",
  "equality => equality",
  "housing => housing",
  "intern => intern",
  "interns => intern",
  "internal => internal",
  "international => international",
  "paye => paye",
  "permitted => permitted",
  "practical => practical", 
  "practice => practice", 
  "probate => probate",
  "publication => publication",
  "publications => publication",
  "saving => saving",
  "savings => savings",
  "signing => signing",
  "universal => universal"
]

# Promoted results
#
# When indexing a promoted item, the promoted_for field is set with the given
# terms. At search time an extra query checks for matches between the user's
# search phrase and the promoted item. The promoted item search does not have
# a minimum_should_match so even a single word in common will trigger the
# boosting. Any matches are boosted by 100x effectively forcing them to the
# top.
#
# NOTES:
#  - if you add items to this section, the index will need to be re-built
#  - the terms are stemmed so there's no need to enter both 'job' and 'jobs'
promoted_results:
- terms: job
  link: /jobsearch

index:
  settings:
    analysis:
      analyzer:
        default:  # Indexing analyzer: doesn't use custom synonyms
          type: custom
          tokenizer: standard
          filter: [standard, lowercase, stop, stemmer_override, stemmer_english]
        query_default:
          type: custom
          tokenizer: standard
          filter: [standard, lowercase, synonym, stop, stemmer_override, stemmer_english]
        shingled_query_analyzer:
          type: custom
          tokenizer: standard
          filter: [standard, lowercase, stop, stemmer_override, stemmer_english, filter_shingle]
      filter:
        synonym:
          type: synonym
          synonyms: *synonyms
        stemmer_override:
          type: stemmer_override
          rules: *stems
        stemmer_english:
          type: stemmer
          name: english
        filter_shingle:
          type: shingle
          max_shingle_size: 2
          min_shingle_size: 2
mappings:
  default:
    edition:
      _all: { enabled: true }
      properties:
        title:       { type: string, index: analyzed }
        description: { type: string, index: analyzed }
        format:      { type: string, index: not_analyzed, include_in_all: false }
        section:     { type: string, index: not_analyzed, include_in_all: false }
        subsection:  { type: string, index: not_analyzed, include_in_all: false }
        subsubsection:  { type: string, index: not_analyzed, include_in_all: false }
        link:        { type: string, index: not_analyzed, include_in_all: false }
        indexable_content: { type: string, index: analyzed }
        promoted_for: { type: string, index: analyzed, include_in_all: false }
  government:
    edition:
      _all: { enabled: true }
      properties:
        title:       { type: string, index: analyzed }
        acronym:     { type: string, index: analyzed }
        description: { type: string, index: analyzed }
        indexable_content: { type: string, index: analyzed }
        format:      { type: string, index: not_analyzed, include_in_all: false }
        display_type: { type: string, index: not_analyzed, include_in_all: false }
        section:     { type: string, index: not_analyzed, include_in_all: false }
        subsection:  { type: string, index: not_analyzed, include_in_all: false }
        subsubsection:  { type: string, index: not_analyzed, include_in_all: false }
        link:        { type: string, index: not_analyzed, include_in_all: false }
        id:          { type: long, index: not_analyzed, include_in_all: false }
        organisations: { type: string, index: not_analyzed, include_in_all: false }
        document_series: { type: string, index: not_analyzed, include_in_all: false }
        people: { type: string, index: not_analyzed, include_in_all: false }
        topics: { type: string, index: not_analyzed, include_in_all: false }
        public_timestamp: { type: date, index: not_analyzed, include_in_all: false }
        search_format_types: { type: string, index: not_analyzed, include_in_all: false }
        relevant_to_local_government: { type: boolean, index: not_analyzed, include_in_all: false }
        world_locations: { type: string, index: not_analyzed, include_in_all: false }
        promoted_for: { type: string, index: analyzed, include_in_all: false }
